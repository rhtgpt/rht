CREATE TABLE GD.CIM_OFM_SMG3_LOGGING (
    TRACE_ID               VARCHAR2(36 BYTE),
    ALIAS                  VARCHAR2(16 BYTE),
    AUDIT_CREATE_DATE      TIMESTAMP(6) DEFAULT SYSTIMESTAMP,
    SMG3_LOGGING_DATA      CLOB,
    FILTRATION_JSON_DATA   CLOB
)
PARTITION BY RANGE (AUDIT_CREATE_DATE)
  INTERVAL (NUMTODSINTERVAL(1, 'DAY'))
SUBPARTITION BY LIST (MOD(ORA_HASH(TRACE_ID), 2))
SUBPARTITION TEMPLATE (
  SUBPARTITION sp0 VALUES (0)
    LOB (SMG3_LOGGING_DATA) STORE AS smg3_lob_sp0 (TABLESPACE GD_LOB_03),
    LOB (FILTRATION_JSON_DATA) STORE AS filter_lob_sp0 (TABLESPACE GD_LOB_04),

  SUBPARTITION sp1 VALUES (1)
    LOB (SMG3_LOGGING_DATA) STORE AS smg3_lob_sp1 (TABLESPACE GD_LOB_03),
    LOB (FILTRATION_JSON_DATA) STORE AS filter_lob_sp1 (TABLESPACE GD_LOB_04)
)
(
  PARTITION p_seed VALUES LESS THAN (TIMESTAMP '2025-01-01 00:00:00')
)
ENABLE ROW MOVEMENT;
