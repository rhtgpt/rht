CREATE TABLE "GD"."CIM_OFM_SMG3_LOGGING" (
  TRACE_ID               VARCHAR2(36 BYTE),
    ALIAS                  VARCHAR2(16 BYTE),
    AUDIT_CREATE_DATE      TIMESTAMP(6) DEFAULT SYSTIMESTAMP,
    SMG3_LOGGING_DATA      CLOB,
    FILTRATION_JSON_DATA   CLOB
)
PARTITION BY RANGE (AUDIT_CREATE_DATE)
  INTERVAL (NUMTODSINTERVAL(1,'DAY'))
SUBPARTITION BY LIST (MOD(ORA_HASH(TRACE_ID), 2))
SUBPARTITION TEMPLATE (
  SUBPARTITION sp0 VALUES (0)
    LOB (SMG3_LOGGING_DATA) STORE AS lob_txn_details_asia (TABLESPACE GD_LOB_04),
    LOB (FILTRATION_JSON_DATA) STORE AS lob_txn_payload_asia (TABLESPACE GD_LOB_03),

  SUBPARTITION sp1 VALUES (1)
    LOB (SMG3_LOGGING_DATA) STORE AS lob_txn_details_eu (TABLESPACE GD_LOB_04),
    LOB (FILTRATION_JSON_DATA) STORE AS lob_txn_payload_eu (TABLESPACE GD_LOB_03)
)
(
  PARTITION p_seed VALUES LESS THAN (DATE '2025-01-01')
)
ENABLE ROW MOVEMENT;
